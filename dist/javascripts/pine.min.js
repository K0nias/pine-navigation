/**
* pine.js v0.0.1
*/
!function(a){a.log=function(a){window.log&&window.console&&window.console.log&&console.log(a)}}(window.jQuery||window.Zepto),window.matchMedia=window.matchMedia||function(a){var b=a.documentElement,c=b.firstElementChild||b.firstChild,d=a.createElement("body"),e=a.createElement("div");e.id="mq-test-1",e.style.cssText="position:absolute;top:-100em",d.style.background="none",d.appendChild(e);var f,g=function(a){return e.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',b.insertBefore(d,c),bool=42===e.offsetWidth,b.removeChild(d),{matches:bool,media:a}},h=function(){var c,d=b.body,g=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",d||(d=g=a.createElement("body"),d.style.background="none"),d.appendChild(e),b.insertBefore(d,b.firstChild),g?b.removeChild(d):d.removeChild(e),c=f=parseFloat(e.offsetWidth)},i=g("(min-width: 0px)").matches;return function(b){if(i)return g(b);var c=b.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),d=b.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),e=null===c,j=null===d,k=a.body.offsetWidth,l="em";return c&&(c=parseFloat(c)*(c.indexOf(l)>-1?f||h():1)),d&&(d=parseFloat(d)*(d.indexOf(l)>-1?f||h():1)),bool=(!e||!j)&&(e||k>=c)&&(j||d>=k),{matches:bool,media:b}}}(document),function(){!function(a){return a.fn.hoover=function(b){var c,d,e,f,g,h,i;return c=this,i=null,e=!1,h={"in":250,out:150},b&&a.extend(h,b),d=function(){return c.trigger("hooverIn"),g(),e=!0},f=function(){return c.trigger("hooverOut"),g(),e=!1},g=function(){return i&&clearTimeout(i),i=null},c.bind("mouseover",function(){return e?g():i?void 0:i=setTimeout(d,h["in"])}),c.bind("mouseout",function(){return e?(i&&g(),i=setTimeout(f,h.out)):g()}),this}}(window.Zepto||window.jQuery)}.call(this);var Pine=window.Pine||{};Pine.Submenu=function(a){"use strict";var b={};return b.toggle=function(b){var c=a(b.currentTarget).closest(".has-submenu"),d=this.activeTransition&&this.activeTransition.beforeToggle,e=c.hasClass("is-open");d&&"function"==typeof d&&d.call(b.currentTarget,e),e?(c.trigger(b=a.Event("hide")),c.removeClass("is-open").trigger("hidden"),a.log("Event: hide")):(c.trigger(b=a.Event("show")),c.addClass("is-open").trigger("shown"),a.log("Event: show"))},b}(window.Zepto||window.jQuery,window);var Pine=window.Pine||{};Pine.Navbar=function(a,b){"use strict";var c={};return c.isLargeDisplay=null,c.element=null,c.DEFAULTS={jsBreakpoint:"600px",transitionSmallDisplay:"fx-right-to-left",transitionLargeDisplay:"fx-hover-fade"},c.NAVBAR_TOGGLE="[data-pine=toggle]",c.SUBMENU=".has-submenu",c.options=null,c.transitions={},c.activeTransition={},c.init=function(c,d){this.options=a.extend({},this.DEFAULTS,d),this.element=a(c),this.isLargeDisplay=b.matchMedia("(min-width: "+this.options.jsBreakpoint+")").matches,this.isLargeDisplay?this.setActiveTransition(this.options.transitionLargeDisplay):this.setActiveTransition(this.options.transitionSmallDisplay),this.element.find("ul").first().addClass("pine-navbar"),this.element.find("li").has("ul").addClass("has-submenu"),this.element.find("a").on("focus",this.focus),this.isLargeDisplay?this.element.addClass("pine-large"):this.element.addClass("pine-small"),a(document).on("click",this.SUBMENU+" > a",a.proxy(Pine.Submenu.toggle,Pine.Navbar)),a(this.NAVBAR_TOGGLE).on("click",Pine.Navbar.toggle),a(b).on({load:a.proxy(this.api,this),resize:a.proxy(this.api,this)})},c.api=function(a){var b=this.checkMedia(a);return null===b?!1:(this.activeTransition&&"function"==typeof this.activeTransition.onSwitch&&this.activeTransition.onSwitch.call(this,!1),this.switchView(b),this.activeTransition&&"function"==typeof this.activeTransition.onSwitch&&this.activeTransition.onSwitch.call(this,!0),void 0)},c.checkMedia=function(a){var c=b.matchMedia("(min-width: "+this.options.jsBreakpoint+")").matches,d=a.type&&"load"==a.type;return!d&&(!this.isLargeDisplay&&!c||this.isLargeDisplay&&c)?null:this.isLargeDisplay=c},c.switchView=function(b){var c=this.getTransitionName(b),d=this.getTransitionName(!b),e=this.getNavbarClass(b),f=this.getNavbarClass(!b);this.element.removeClass(d).addClass(c),a.log("Transition: "+c),this.element.removeClass(f).addClass(e),this.setActiveTransition(c),a.log("View: "+e),this.resetNav()},c.focus=function(){var b=a(this),c=b.parent();c.hasClass("has-submenu")&&!c.hasClass("is-open")&&b.trigger(a.Event("mouseover"));var d=a(".is-open");0!=d.length&&d.filter(function(){return 0===a(this).find(b).length}).removeClass("is-open")},c.toggle=function(b){b.preventDefault(),a(this).toggleClass("is-active"),a(document).find(a(this).attr("href")).toggleClass("is-visible"),a.log("Event: Toggle Navbar")},c.resetNav=function(){a(this.SUBMENU).removeClass("is-open")},c.setActiveTransition=function(a){this.activeTransition=this.transitions[a]||!1},c.getTransitionName=function(a){return a?this.options.transitionLargeDisplay:this.options.transitionSmallDisplay},c.getNavbarClass=function(a){return a?"pine-large":"pine-small"},c.registerTransition=function(a,b){this.transitions[a]=b},c}(window.Zepto||window.jQuery,window);var pine_fx_hover={onSwitch:function(a){a?$(document).on({mouseenter:$.proxy(Pine.Submenu.toggle,this),mouseleave:$.proxy(Pine.Submenu.toggle,this)},this.SUBMENU).off("click"):$(document).off("mouseenter").off("mouseleave").on("click",this.SUBMENU+" > a",$.proxy(Pine.Submenu.toggle,this))},onToggle:function(){}};Pine.Navbar.registerTransition("fx-hover",pine_fx_hover),Pine.Navbar.registerTransition("fx-hover-fade",$.extend({},pine_fx_hover)),Pine.Navbar.registerTransition("fx-right-to-left",{onSwitch:function(a){var b=this.element,c=b.find("li").has("ul"),d=function(){$(".fx-right-to-left ul").css("width",$(window).width())};a?(c.each(function(){$(this).find("ul").first().prepend($('<li class="pine-back"><a href="#">'+$(this).find("a").first().text()+"</a></li>"))}),$(document).on("click",".pine-back",$.proxy(Pine.Submenu.toggle,this)),b.find("ul").css("width",$(window).width()),$(window).on({resize:d,orientationchange:d}),$.log("ENTER small view")):(b.find("ul").removeAttr("style"),c.find("li.pine-back").remove(),$(window).off("resize",d),$.log("LEAVE small view"))},beforeToggle:function(a){var b=$(this),c=b.parents("ul"),d=a?c.length-2:c.length;c.last().animate({translate:-100*d+"%"},300,"ease-out")}}),window.jQuery&&function(a,b){"use strict";var c=a.fn.pine;a.fn.pine=function(c){return this.each(function(){var d=a(this),e=d.data("pine"),f=a.extend({},d.data(),"object"==typeof c&&c);e||d.data("pine",e=b.Navbar.init(this,f))})},a.fn.pine.Module=b.Navbar,a.fn.pine.noConflict=function(){return a.fn.pine=c,this}}(jQuery,Pine),window.Zepto&&function(a,b){"use strict";a.fn.pine=function(c){a.each(this,function(){a(this);var d=a.extend({},"object"==typeof c&&c);b.Navbar.init(this,d)})}}(Zepto,Pine),function(a){"use strict";a("[data-pine=navbar]").pine()}(window.Zepto||window.jQuery);